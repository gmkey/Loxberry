<!-- ** START template/system/plugininstall.html 23.12.2018 00:05:29  ************************************************************************************ -->
<TMPL_IF FORM>
	<div style="display:flex; width:100%; text-align:left;" id="installationheader">
		<div style="margin:auto; padding:10px;text-align:left;">
			<img width="80" height="80" src="/system/images/icons/main_plugins_install.svg" alt="">
		</div>
		<div style="margin:auto; padding:10px; width:100%; text-align:left;">
			<div class="wide"><TMPL_VAR PLUGININSTALL.UI_LABEL_INSTALLATION></div>
			<a target="pluginarchive" href="http://www.loxwiki.eu/display/LOXBERRY/Plugins/" data-role="button" data-inline="true" data-icon="search" data-mini="true" id="btnarchive"><TMPL_VAR PLUGININSTALL.UI_BUTTON_PLUGINARCHIVE></a>
		</div>
	</div>

	<div style="height:15px;">
	</div>

	<form method="post" data-ajax="false" name="main_form" id="main_form" action="/admin/system/plugininstall.cgi?do=install" enctype="multipart/form-data">
		<input type="hidden" name="saveformdata" value="1">
		<div style="margin:auto; padding:10px 10px 0px 10px; display:flex; text-align:left; white-space: nowrap; flex-wrap:wrap;">
			<div style="text-align:left; margin-top:15px;">
				<TMPL_VAR PLUGININSTALL.UI_LABEL_INSTALL_NEW>
			</div>
			<div style="text-align:left; width:75%;">
				<input readonly type="url" autocomplete="off" id="archiveurl" name="archiveurl" class="textfield" data-validation-error-msg="<TMPL_VAR PLUGININSTALL.UI_MSG_NO_URL>" data-validation-or="#uploadfile" data-validation-rule="^([hH][tT][tT][pP][sS]?|[sS]\?[fF][tT][pP])\:\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&\'\(\)\*\+,;=]|\:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&\'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&\'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&\'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&\'\(\)\*\+,;=]|:|@)|\/|\?)*)?(\.[zZ][iI][pP]$)|(\.[zZ][iI][pP][\?][a-zA-Z0-9\_\-\&][a-zA-Z0-9\=\&\_\-\%\/]*)$" placeholder="http(s)://" value="<TMPL_VAR ARCHIVEURL>" onfocus="this.removeAttribute('readonly');">
				<input type="file"  id="uploadfile" name="uploadfile" class="textfield" data-validation-error-msg="<TMPL_VAR PLUGININSTALL.UI_MSG_NO_ZIP>" data-validation-rule=".*\S.*" data-validation-or="#archiveurl">
			</div>
		</div>
		<div style="height:30px;">
		</div>
		<div style="margin:auto; display:flex; flex-wrap: wrap; justify-content:flex-end; text-align:center">
			<div style="padding-right:10px; padding-left:10px; margin-top:15px; white-space: nowrap;">
				<TMPL_VAR PLUGININSTALL.UI_LABEL_SECUREPIN>
			</div>
			<div>
				<input id='securepin' name='securepin' type='password' data-validation-coloring="off" autocomplete="off" data-validation-error-msg="<TMPL_VAR PLUGININSTALL.ERR_MSG_VAL_SECUREPIN_ERROR>" data-validation-rule="^([A-Za-z0-9]){4,10}$" size="10">
			</div>
			<div style="text-align:left; margin-top:3px;  padding-left:20px;">
				<button type="submit" form="main_form" name="btnsubmit" id="btnsubmit" data-role="button" data-inline="true" data-mini="true" data-icon="check"><TMPL_VAR PLUGININSTALL.UI_LABEL_INSTALLBTN></button>
			</div>
		</div>
	</form>

	<div style="height:60px;">
	</div>

	<div style="display:flex; width:100%; text-align:left;">
		<div style="margin:auto; padding:10px;text-align:left;">
			<img width="80" height="80" src="/system/images/icons/main_plugins_title.svg" alt="">
		</div>
		<div style="margin:auto; padding:10px; width:100%; text-align:left;">
			<div class="wide"><TMPL_VAR PLUGININSTALL.UI_LABEL_INSTALLED_PLUGINS>
			</div>
			<div>
			<a href="#" data-role="button" data-inline="true" data-icon="refresh" data-mini="true" id="btnrecheck"><TMPL_VAR PLUGININSTALL.UI_NOTIFY_AUTOINSTALL_RECHECK_BUTTON></a>&nbsp;<span id="recheckstatus" style=""></span>
			</div>
		</div>
	</div>
	<div style="height:15px;">
	</div>
	<table data-role="table" data-mode="table" class="ui-responsive">
		<tbody>

		<!-- START Plugin container -->
		<TMPL_IF PLUGINS>
			<TMPL_LOOP PLUGINS>
			<style>
				#pluginicon<TMPL_VAR PLUGINDB_MD5_CHECKSUM> { display: block; height: 128px; width: 128px; background-image: url(/system/images/icons/<TMPL_VAR PLUGINDB_FOLDER>/icon_128.png); }
				
				@media (max-width: 875px) {
					#pluginicon<TMPL_VAR PLUGINDB_MD5_CHECKSUM> { display: block; height: 64px; width: 64px; background-image: url(/system/images/icons/<TMPL_VAR PLUGINDB_FOLDER>/icon_64.png); }
				}
			</style>
			<tr>
				<td rowspan="2">
					<a href="/admin/plugins/<TMPL_VAR PLUGINDB_FOLDER>/" data-ajax="false" id="pluginicon<TMPL_VAR PLUGINDB_MD5_CHECKSUM>"></a>
				</td>
				<td>
					<div style="display: flex; justify-content:space-between; flex-flow: row wrap;">
						<div style="flex-grow: 2;">
							<span style="font-size:calc(13px + 1vw);"><a href="/admin/plugins/<TMPL_VAR PLUGINDB_FOLDER>/" data-ajax="false" style="text-decoration:none;"><TMPL_VAR PLUGINDB_TITLE></a></span><br>
							<span style="font-size:70%;">by <TMPL_VAR PLUGINDB_AUTHOR_NAME></span>
						</div>
						<div style="flex-grow: 1; text-align: right; vertical-align: middle;"><b>Version <span id="curver-<TMPL_VAR PLUGINDB_MD5_CHECKSUM>"><TMPL_VAR PLUGINDB_VERSION></span></b>
							<div style="color:green; font-size:70%" class="releaseverslabel" data-version="" id="labelrel-<TMPL_VAR PLUGINDB_MD5_CHECKSUM>"></div>
							<div style="color:#e53734; font-size:70%" class="prereleaseverslabel" data-version="" id="labelpre-<TMPL_VAR PLUGINDB_MD5_CHECKSUM>"></div>
						</div>
					</div>
				</td>
				
				<td>
					<div>
						<a href="#" data-role="button" data-inline="true" data-icon="gear" data-mini="true" data-updatelink="" class="btnrelease" id="relbtn-<TMPL_VAR PLUGINDB_MD5_CHECKSUM>">Update Release</a>
						<a href="#" data-role="button" data-inline="true" data-icon="gear" data-mini="true" data-updatelink="" class="btnprerelease" id="prebtn-<TMPL_VAR PLUGINDB_MD5_CHECKSUM>">Update Pre-Release</a>
					</div>
					<a data-role="button" data-inline="true" data-icon="info" data-mini="true" href="/admin/system/tools/logfile.cgi?logfile=system/plugininstall/<TMPL_VAR PLUGINDB_NAME>.log&header=html&format=template&only=once" target="_blank"><TMPL_VAR PLUGININSTALL.UI_LABEL_LOGFILE></a>
					<a data-role="button" data-inline="true" data-icon="delete" data-mini="true" href="/admin/system/plugininstall.cgi?do=uninstall&pid=<TMPL_VAR PLUGINDB_MD5_CHECKSUM>"><TMPL_VAR PLUGININSTALL.UI_LABEL_UNINSTALL></a>
				</td>
			</tr>
			<tr style="border-bottom: 1.5px solid LightGray;">
				<td>
				<TMPL_IF PLUGINDB_AUTOUPDATE>
				<label><TMPL_VAR PLUGININSTALL.UI_LABEL_AUTOMATIC_UPDATES></label>
				<fieldset data-role="controlgroup" data-type="horizontal" data-mini="true">
					<input type="radio" name="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>" id="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>_option1"	value="1">
					<label for="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>_option1"><TMPL_VAR PLUGININSTALL.UI_AUTOMATIC_UPDATES_OFF></label>
					<input type="radio" name="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>" id="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>_option2"	value="2">
					<label for="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>_option2"><TMPL_VAR PLUGININSTALL.UI_AUTOMATIC_UPDATES_NOTIFY_ONLY></label>
					<input type="radio" name="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>" id="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>_option3"	value="3">
					<label for="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>_option3"><TMPL_VAR PLUGININSTALL.UI_AUTOMATIC_UPDATES_RELEASES></label>
					<input type="radio" name="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>" id="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>_option4"	value="4">
					<label for="au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>_option4"><TMPL_VAR PLUGININSTALL.UI_AUTOMATIC_UPDATES_PRE_AND_RELEASES></label>
				</fieldset>
				<script>
				$(document).on('pagecreate',function() {
					$( "#au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>_option"+<TMPL_VAR PLUGINDB_AUTOUPDATE> ).prop( "checked", true ).checkboxradio( "refresh" );
				});
				
				$("[id^=au_<TMPL_VAR PLUGINDB_MD5_CHECKSUM>_option]").change(function(){
					var val = $(this).val();
					console.log("Auto-Update", val);
					post_value('plugin-autoupdate', '<TMPL_VAR PLUGINDB_MD5_CHECKSUM>', val); 
				});
				
				
				
				</script>
				</TMPL_IF>
				</td>
				<td>
				<TMPL_IF PLUGINDB_LOGLEVELS_ENABLED>
				<label for="loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>"><TMPL_VAR PLUGININSTALL.UI_LABEL_LOGGING_LEVEL></label>
					<fieldset data-role="controlgroup" data-type="horizontal" data-mini="true">
					<select name="loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>" id="loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>" data-mini="true">
						<!-- <option value=""><TMPL_VAR PLUGININSTALL.UI_LOG_SELECT></option> -->
						<option value="0"><TMPL_VAR PLUGININSTALL.UI_LOG_0_OFF></option>
						<!-- <option value="1"><TMPL_VAR PLUGININSTALL.UI_LOG_1_ALERT></option> -->
						<!-- <option value="2"><TMPL_VAR PLUGININSTALL.UI_LOG_2_FAILURES></option> -->
						<option value="3"><TMPL_VAR PLUGININSTALL.UI_LOG_3_ERRORS></option>
						<option value="4"><TMPL_VAR PLUGININSTALL.UI_LOG_4_WARNING></option>
						<!-- <option value="5"><TMPL_VAR PLUGININSTALL.UI_LOG_5_OK></option> -->
						<option value="6"><TMPL_VAR PLUGININSTALL.UI_LOG_6_INFO></option>
						<option value="7"><TMPL_VAR PLUGININSTALL.UI_LOG_7_DEBUG></option>
					</select>
					</fieldset>
					<script>
					$(document).ready( function()
					{
						if ( "<TMPL_VAR PLUGINDB_LOGLEVEL>" == 1 )
						{
							$('<option value="1"><TMPL_VAR PLUGININSTALL.UI_LOG_1_ALERT></option>').insertAfter($("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM> option[value=0]"));
						}
						else if ( "<TMPL_VAR PLUGINDB_LOGLEVEL>" == 2 )
						{
							$('<option value="2"><TMPL_VAR PLUGININSTALL.UI_LOG_2_FAILURES></option>').insertAfter($("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM> option[value=0]"));
						}
						else if ( "<TMPL_VAR PLUGINDB_LOGLEVEL>" == 5 )
						{
							$('<option value="5"><TMPL_VAR PLUGININSTALL.UI_LOG_5_OK></option>').insertAfter($("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM> option[value=4]"));
						}
					});
					</script>
					</TMPL_IF>
				</td>
			</tr>
			
			
			<script>
			$(document).ready( function() {
				$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").val('<TMPL_VAR PLUGINDB_LOGLEVEL>').selectmenu('refresh');
			});
			
			$("#loglevel<TMPL_VAR PLUGINDB_MD5_CHECKSUM>").change(function(){
					var val = $(this).val();
					console.log("Loglevel", val);
					post_value('plugin-loglevel', '<TMPL_VAR PLUGINDB_MD5_CHECKSUM>', val); 
				});
			</script>
			</TMPL_LOOP>
		<TMPL_ELSE>
			<tr>
				<td style="text-align:center;"><br><TMPL_VAR PLUGININSTALL.UI_LABEL_NOPLUGINS></td>
			</tr>
		</TMPL_IF>
		<!-- END Plugin container -->

		</tbody>
	</table>

	<script>
		$(document).ready( function()
		{
			update_notifications();
			validate_enable('#uploadfile');
			validate_enable('#securepin');
			validate_enable('#archiveurl');
			validate_chk_object(['#securepin','#archiveurl','#uploadfile']);
			$(function() 
			{
     			$("#uploadfile").change(function ()
     			{
       				if ( $(this).val().length > 1 )
       				{
       					$('#archiveurl').fadeOut();
       					$('#archiveurl').val('');
       					$(this).trigger('blur');
       					$('#error-msg-archiveurl').fadeOut(10);
       				}
       				else
       				{
       					$('#archiveurl').fadeIn();
       					$(this).trigger('blur');
       					$('#error-msg-uploadfile').fadeOut(10);
       				}
     			});
  			});

			$( '#securepin' ).css("background-color","#FFFFC0").attr("original-background-color","#FFFFC0");
			if ( $('#archiveurl').length > 0 ) $('#archiveurl').trigger('keyup');

		});
		
		
		
		function update_notifications() {
			console.log ("Started update_notify");
			
			$(".btnrelease").hide();
			$(".btnprerelease").hide();
			$(".releaseverslabel").hide();
			$(".prereleaseverslabel").hide();
			
			
			
			$.post( "/admin/system/tools/ajax-notification-handler.cgi", { action: 'get_notifications', package: 'plugininstall' } )
			.done(function(notifications) {
				console.log("get_notifications executed successfully");
				for (i = 0; i < notifications.length; i++) {
					var not = notifications[i];
					// console.log("Data unfiltered", not.CONTENTRAW, not.SEVERITY);
					if (not.SEVERITY != 7) continue;
					
					// strip v from version tag
					var version = not.version;
					if( version.charAt( 0 ).toLowerCase() === 'v' )
						version = version.slice( 1 );
					
					var curver = $("#curver-" + not.pluginmd5).text();
					if( curver.charAt( 0 ).toLowerCase() === 'v' )
						curver = curver.slice( 1 );
					
					
					
					var newer = versionCompare(version, curver);
					console.log("Notification:", version, "Current version:", curver);
					console.log("Is newer?", newer);
					if (newer != true) continue;
					if (not.type == "prerelease") {
						//$("#prever-" + not.pluginmd5).text(version);
						var vertext = "New Pre-Release " + version;
						if(not.releaseinfo != null) vertext = '<a href="' + not.releaseinfo + '" target="_blank" style="color:#ef6558;font-weight: normal;" >' + vertext + '</a>';
						$("#labelpre-" + not.pluginmd5).html(vertext);
						$("#labelpre-" + not.pluginmd5).show();
						//$("#prebtn-" + not.pluginmd5).attr("href", "/admin/system/plugininstall.cgi?url=" + not.installarchive);
						$("#prebtn-" + not.pluginmd5).attr("data-updatelink", not.installarchive);
						$("#prebtn-" + not.pluginmd5).show();
					}
					if (not.type == "release") {
						var vertext = "New Release " + version;
						if(not.releaseinfo != null) vertext = '<a href="' + not.releaseinfo + '" target="_blank" style="color:green;font-weight: normal;">' + vertext + '</a>';
						$("#labelrel-" + not.pluginmd5).html(vertext);
						$("#labelrel-" + not.pluginmd5).show();
						//$("#relbtn-" + not.pluginmd5).attr("href", "/admin/system/plugininstall.cgi?url=" + not.installarchive);
						$("#relbtn-" + not.pluginmd5).attr("data-updatelink", not.installarchive);
						$("#relbtn-" + not.pluginmd5).show();
					}
				}
			});
		
		}
		
		$(".btnrelease").click(function() {
			$("#archiveurl").val( $(this).attr("data-updatelink") );
			$(window).scrollTop($('#installationheader').offset().top-30);
			//var scrollpos = $('#installationheader'.offset().top).scrollTop();
			//$("html").animate( {scrollTop: scrollpos} , 600);
		});
		
		$(".btnprerelease").click(function() {
			$("#archiveurl").val( $(this).attr("data-updatelink") );
			$(window).scrollTop($('#installationheader').offset().top-30);
			//var scrollpos = $('#installationheader'.offset().top).scrollTop();
			//$("html").animate( {scrollTop: scrollpos} , 600);
		});
		
		$("#btnrecheck").click(function() {
			$("#recheckstatus").attr("style", "color:green");
			$("#recheckstatus").text("<TMPL_VAR COMMON.MSG_PLEASEWAIT>");
			$("#btnrecheck").prop( "disabled", true );
			$.post ( '/admin/system/tools/ajax-config-handler.cgi', {action: 'pluginsupdate-check'})
			.done(function() {
				$("#recheckstatus").text("");
				update_notifications();
				$("#btnrecheck").prop( "disabled", false );
			})
			.fail(function() {
				$("#recheckstatus").attr("style", "color:red");
				$("#recheckstatus").text("<TMPL_VAR COMMON.MESSAGE_GENERIC_ERROR>");
				$("#btnrecheck").prop( "disabled", false );
			});
		
		
		
		});
		
		
		function post_value (action, pluginmd5, value)
		{
			console.log("Action:", action, "Plugin-MD5:", pluginmd5, "Value:", value);
			$.post ( '/admin/system/tools/ajax-config-handler.cgi', 
						{ 	action: action,
							value: value,
							pluginmd5: pluginmd5
						});
		}
	

	
// 	https://stackoverflow.com/questions/6832596/how-to-compare-software-version-number-using-js-only-number
function versionCompare(v1, v2, options) {
    var lexicographical = options && options.lexicographical,
        zeroExtend = options && options.zeroExtend,
        v1parts = v1.split('.'),
        v2parts = v2.split('.');

    function isValidPart(x) {
        return (lexicographical ? /^\d+[A-Za-z]*$/ : /^\d+$/).test(x);
    }

    if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {
        return NaN;
    }

    if (zeroExtend) {
        while (v1parts.length < v2parts.length) v1parts.push("0");
        while (v2parts.length < v1parts.length) v2parts.push("0");
    }

    if (!lexicographical) {
        v1parts = v1parts.map(Number);
        v2parts = v2parts.map(Number);
    }

    for (var i = 0; i < v1parts.length; ++i) {
        if (v2parts.length == i) {
            return 1;
        }

        if (v1parts[i] == v2parts[i]) {
            continue;
        }
        else if (v1parts[i] > v2parts[i]) {
            return 1;
        }
        else {
            return -1;
        }
    }

    if (v1parts.length != v2parts.length) {
        return -1;
    }

    return 0;
}
	
	
	</script>
</TMPL_IF>

<TMPL_IF QUESTION>
	<center>
	<table border=0>
	<tr>
		<td align="center">
			<h2><TMPL_VAR COMMON.MSG_ARE_YOU_SURE></h2>
			<p>
			<div id="uninstall_text">
				<TMPL_VAR UNINSTALL_QUESTION>
			</div>
			<br/>
			<br/>
			</p>
		</td>
	</tr>
	<tr>
		<td align="center">
			<p>
			<a id="btncancel" data-role="button" data-inline="true" data-mini="true"
			data-icon="delete" href="/admin/system/plugininstall.cgi"><TMPL_VAR COMMON.BUTTON_CANCEL></a>
			<a onclick="$('#btnok').addClass('ui-disabled'); $('#uninstall_text').html('<TMPL_VAR PLUGININSTALL.UI_MSG_UNINSTALL_WAIT>');" id="btnok" data-role="button" data-inline="true" data-mini="true"
			data-icon="check" href="<TMPL_VAR SELFURL>&answer=1"><TMPL_VAR PLUGININSTALL.UI_LABEL_UNINSTALL></a>
			</p>
		</td>
	</tr>
	</table>
	</center>
</TMPL_IF>

<TMPL_IF LOCK>
	<center>
	<table border=0>
	<tr>
		<td align="center">
			<h2><TMPL_VAR COMMON.MESSAGE_GENERIC_ERROR></h2>
			<p>
			<TMPL_VAR PLUGININSTALL.UI_INSTALL_ERR_RUNNING_UPDATES>
			<br/>
			<br/>
			</p>
		</td>
	</tr>
	<tr>
		<td align="center">
			<p>
			 <a id="btnreload" href="javascript:location.reload();" class="ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-refresh"><TMPL_VAR COMMON.BUTTON_REFRESH></a>
			</p>
		</td>
	</tr>
	</table>
	</center>
</TMPL_IF>

<TMPL_IF UNINSTALL>
	<center>
	<table border=0>
	<tr>
		<td align="center">
			<h2><TMPL_VAR COMMON.MSG_ALLOK></h2>
			<p>
			<TMPL_VAR PLUGININSTALL.UI_MSG_UNINSTALL_SUCCESS>
			<br/>
			<br/>
			</p>
		</td>
	</tr>
	<tr>
		<td align="center">
			<p>
			<a id="btnok" data-role="button" data-inline="true" data-mini="true"
			data-icon="check" href="/admin/system/plugininstall.cgi"><TMPL_VAR COMMON.BUTTON_OK></a>
			</p>
		</td>
	</tr>
	</table>
	</center>
</TMPL_IF>

<!-- ** END template/system/plugininstall.html ************************************************************************************ -->
